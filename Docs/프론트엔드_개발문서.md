# 프론트엔드 개발 문서

## 1. 프로젝트 개요

### 1.1 프로젝트 목적
서울시 열린데이터 Open API를 활용하여 서울시 공영주차장 안내 정보를 카카오맵에 표시하는 웹 애플리케이션을 구축합니다.

### 1.2 주요 기능
- 서울시 공영주차장 Open API를 통한 주차장 정보 조회
- 카카오맵 API를 활용한 지도 표시
- API 리턴값을 통한 지도 마커 표시 (필수 기능)
- 주차장 상세 정보 표시 (선택 기능)

## 2. 기술 스택

### 2.1 핵심 기술
- **프레임워크**: Vue.js
- **개발 방식**: TDD (Test-Driven Development)
- **설계 원칙**: DDD (Domain-Driven Design) 개념 적용

### 2.2 주요 라이브러리 및 도구
- Vue.js 기본 모듈 사용
- 카카오맵 API (Kakao Maps API)
- 서울시 열린데이터 Open API

## 3. 프로젝트 구조

### 3.1 디렉토리 구조 (DDD 기반)

```
src/
├── domain/                    # 도메인 레이어
│   ├── ParkingLot/           # 주차장 도메인
│   │   ├── ParkingLot.ts     # 주차장 엔티티
│   │   ├── ParkingLotRepository.ts  # 리포지토리 인터페이스
│   │   └── ParkingLotService.ts     # 도메인 서비스
│   └── Map/                  # 지도 도메인
│       ├── MapMarker.ts      # 마커 엔티티
│       └── MapService.ts     # 지도 서비스
├── infrastructure/            # 인프라스트럭처 레이어
│   ├── api/                  # 외부 API 통신
│   │   ├── SeoulOpenApiClient.ts    # 서울시 Open API 클라이언트
│   │   └── KakaoMapApiClient.ts     # 카카오맵 API 클라이언트
│   └── repository/           # 리포지토리 구현
│       └── ParkingLotRepositoryImpl.ts
├── application/              # 애플리케이션 레이어
│   ├── usecase/              # 유스케이스
│   │   ├── GetParkingLotsUseCase.ts
│   │   └── DisplayMapMarkersUseCase.ts
│   └── dto/                  # 데이터 전송 객체
│       └── ParkingLotDto.ts
├── presentation/             # 프레젠테이션 레이어
│   ├── components/           # Vue 컴포넌트
│   │   ├── MapView.vue       # 지도 뷰 컴포넌트
│   │   ├── ParkingLotList.vue # 주차장 목록 컴포넌트
│   │   └── ParkingLotDetail.vue # 주차장 상세 컴포넌트
│   ├── views/                # 페이지 뷰
│   │   └── HomeView.vue
│   └── router/               # 라우터 설정
│       └── index.ts
├── tests/                    # 테스트 코드
│   ├── unit/                 # 단위 테스트
│   │   ├── domain/
│   │   ├── application/
│   │   └── infrastructure/
│   └── integration/          # 통합 테스트
│       └── api/
└── shared/                   # 공유 유틸리티
    ├── constants/            # 상수 관리
    │   └── ApiConstants.ts
    └── utils/                # 유틸리티 함수
        └── DateUtils.ts
```

## 4. API 연동

### 4.1 서울시 열린데이터 Open API

#### 4.1.1 API 정보
- **API 가이드**: https://data.seoul.go.kr/together/guide/useGuide.do
- **서비스명**: 서울시 공영주차장 안내 정보
- **인증 방식**: API 키 기반 인증

#### 4.1.2 API 엔드포인트
```
GET /{서비스명}/json/{서비스ID}/{시작위치}/{종료위치}
```

#### 4.1.3 요청 파라미터
- `serviceKey`: API 인증 키
- `startIndex`: 시작 위치
- `endIndex`: 종료 위치

#### 4.1.4 응답 데이터 구조
```typescript
interface ParkingLotResponse {
  // 서울시 Open API 응답 구조에 맞게 정의
  // 실제 API 응답 스펙 확인 필요
}
```

### 4.2 카카오맵 API

#### 4.2.1 API 정보
- **API 가이드**: https://apis.map.kakao.com/web/sample/
- **인증 방식**: JavaScript 키 기반 인증

#### 4.2.2 주요 기능
- 지도 표시
- 마커 표시
- 정보창 표시
- 클러스터링 (선택 사항)

## 5. 핵심 기능 구현

### 5.1 지도 마커 표시 (필수 기능)

#### 5.1.1 구현 흐름
1. 서울시 공영주차장 Open API 호출
2. 응답 데이터 파싱 및 도메인 객체 변환
3. 카카오맵 초기화
4. 주차장 위치 정보를 기반으로 마커 생성 및 표시

#### 5.1.2 구현 예시

**UseCase 구현**
```typescript
// application/usecase/DisplayMapMarkersUseCase.ts
/**
 * 지도에 주차장 마커를 표시하는 유스케이스
 */
export class DisplayMapMarkersUseCase {
  constructor(
    private parkingLotRepository: ParkingLotRepository,
    private mapService: MapService
  ) {}

  /**
   * 주차장 목록을 조회하고 지도에 마커를 표시한다
   */
  async execute(): Promise<void> {
    const parkingLots = await this.parkingLotRepository.findAll();
    this.mapService.displayMarkers(parkingLots);
  }
}
```

**컴포넌트 구현**
```vue
<!-- presentation/components/MapView.vue -->
<template>
  <div id="map" style="width:100%;height:400px;"></div>
</template>

<script setup lang="ts">
import { onMounted } from 'vue';
import { DisplayMapMarkersUseCase } from '@/application/usecase/DisplayMapMarkersUseCase';

/**
 * 지도 뷰 컴포넌트
 */
const useCase = new DisplayMapMarkersUseCase(/* 의존성 주입 */);

onMounted(async () => {
  await useCase.execute();
});
</script>
```

### 5.2 주차장 정보 조회

#### 5.2.1 도메인 모델
```typescript
// domain/ParkingLot/ParkingLot.ts
/**
 * 주차장 도메인 엔티티
 */
export class ParkingLot {
  constructor(
    public readonly id: string,
    public readonly name: string,
    public readonly address: string,
    public readonly latitude: number,
    public readonly longitude: number,
    public readonly capacity?: number,
    public readonly operatingHours?: string
  ) {}
}
```

## 6. 테스트 전략

### 6.1 TDD 개발 방식
- Red: 실패하는 테스트 작성
- Green: 테스트를 통과하는 최소 코드 작성
- Refactor: 코드 리팩토링

### 6.2 테스트 범위

#### 6.2.1 단위 테스트
- 도메인 로직 테스트
- 유스케이스 테스트
- API 클라이언트 테스트 (Mock 사용)

#### 6.2.2 통합 테스트
- API 연동 테스트
- 컴포넌트 통합 테스트

### 6.3 테스트 예시
```typescript
// tests/unit/application/usecase/DisplayMapMarkersUseCase.test.ts
describe('DisplayMapMarkersUseCase', () => {
  it('주차장 목록을 조회하고 지도에 마커를 표시해야 한다', async () => {
    // Arrange
    const mockParkingLots = [/* 테스트 데이터 */];
    const repository = createMockRepository(mockParkingLots);
    const mapService = createMockMapService();
    const useCase = new DisplayMapMarkersUseCase(repository, mapService);

    // Act
    await useCase.execute();

    // Assert
    expect(mapService.displayMarkers).toHaveBeenCalledWith(mockParkingLots);
  });
});
```

## 7. 코딩 컨벤션

### 7.1 네이밍 규칙
- **파일명**: PascalCase 사용
- **클래스명**: PascalCase 사용
- **상수명**: UPPER_SNAKE_CASE 사용
- **변수명**: camelCase 사용
- **함수명**: 동사로 시작

### 7.2 코드 작성 규칙
- 모든 함수에는 JSDoc 스타일의 주석 포함
- 코드 주석은 한글로 작성
- 모든 변수와 함수에 명시적 타입 지정
- 코드 블록 사이에는 한 줄의 공백 유지
- 불필요한 import 제거

### 7.3 상수 관리
- 클래스 내의 상수는 `constants` 패턴 안에 상수 클래스를 만들어서 관리

```typescript
// shared/constants/ApiConstants.ts
export class ApiConstants {
  public static readonly SEOUL_OPEN_API_BASE_URL = 'https://data.seoul.go.kr';
  public static readonly KAKAO_MAP_API_KEY = 'YOUR_API_KEY';
}
```

## 8. 개발 환경 설정

### 8.1 필수 환경 변수
```env
VUE_APP_SEOUL_API_KEY=your_seoul_api_key
VUE_APP_KAKAO_MAP_KEY=your_kakao_map_key
VUE_APP_API_BASE_URL=http://localhost:8080/api
```

### 8.2 의존성 설치
```bash
npm install
```

### 8.3 개발 서버 실행
```bash
npm run serve
```

### 8.4 테스트 실행
```bash
npm run test
```

## 9. 배포

### 9.1 빌드
```bash
npm run build
```

### 9.2 배포 전 체크리스트
- [ ] 환경 변수 설정 확인
- [ ] API 키 설정 확인
- [ ] 테스트 통과 확인
- [ ] 빌드 오류 확인

## 10. 참고 자료

### 10.1 API 문서
- 서울시 열린데이터 Open API: https://data.seoul.go.kr/together/guide/useGuide.do
- 카카오맵 API: https://apis.map.kakao.com/web/sample/

### 10.2 Vue.js 문서
- Vue.js 공식 문서: https://vuejs.org/

## 11. 향후 개선 사항

### 11.1 추가 기능 제안
- 주차장 검색 기능
- 주차장 상세 정보 모달
- 즐겨찾기 기능
- 현재 위치 기반 주차장 검색
- 주차장 필터링 (요금, 운영시간 등)
- 반경 검색 기능

### 11.2 성능 최적화
- API 응답 캐싱
- 마커 클러스터링
- 지도 레이지 로딩
- 가상 스크롤 적용 (주차장 목록)

